<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuários</title>
    <link rel="stylesheet" href="static/style.css">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40%;
        }
        .mensagem-sucesso {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border-radius: 5px;
            position: fixed; /* Posição fixa para centralizar na tela */
            top: 30%; /* Centraliza verticalmente */
            left: 49%; /* Centraliza horizontalmente */
            transform: translate(-50%, -50%); /* Move a div para o centro */
            display: none; /* Oculta a div por padrão */
            max-width: 300px; /* Largura máxima da div */
            text-align: center; /* Centraliza o texto */
        }
    </style>
</head>
<body>
    <header>
        <!-- Se o usuário estiver autenticado, exiba uma saudação personalizada -->
        <div class="header-container">
            <div class="titulo">
              <h1 class="header-title">Condomínio Vitória</h1>
            </div>
            <div class="header-content">
                <!-- Se o usuário estiver autenticado, exiba uma saudação personalizada -->
                {% if 'username' in session %}
                    <p>Bem-vindo, {{ session['username'] }}!</p>
                    <a href="{{ url_for('logout') }}" class="logout-link"> Logout <i class="fas fa-sign-out-alt"></i></a>
                {% endif %}
            </div>
        </div>
    </header>
    <h1>Cadastro de Usuários</h1>
    <div class="container">
    <!-- Verifica se há uma mensagem de sucesso para exibir -->
    {% if mensagem_sucesso %}
        <div class="mensagem-sucesso" id="mensagemSucesso">{{ mensagem_sucesso }}</div>
    {% endif %}

    <form method="POST" action="{{ url_for('cadastro') }}">
        <label for="username">Nome de usuário:</label>
        <input type="text" name="username" placeholder="Digite o Usuário" required><br>

        <label for="senha">Senha:</label>
        <input type="password" name="senha" placeholder="Digite a Senha" required><br>

        <label for="tipo_usuario">Tipo de Usuário:</label>
        <select name="tipo_usuario" id="tipo_usuario" required>
            <option value="PORTEIRO">Porteiro</option>
            <option value="SINDICO">Síndico</option>
        </select><br>

        <button type="submit">Cadastrar</button>
    </form>

    <footer id="rodapeCSS">
        <div class="footer-container">
            <p>© 2024 Condomínio Vitória. Todos os direitos reservados.</p>
        </div>
    </footer>
</div>
    <script>
        // Função para mostrar a mensagem de sucesso e iniciar o timer
        function mostrarMensagem() {
            var mensagem = document.getElementById('mensagemSucesso');
            mensagem.style.display = 'block'; // Exibe a mensagem

            // Define um timer para ocultar a mensagem após 3 segundos
            setTimeout(function() {
                mensagem.style.display = 'none'; // Oculta a mensagem após 3 segundos
            }, 300000); // 3 segundos em milissegundos
        }

        // Chama a função para mostrar a mensagem quando a página carregar
        window.onload = mostrarMensagem;
    </script>
</body>
</html>
